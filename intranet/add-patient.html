<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Add Patient - Roblox Health Service</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../assets/css/nhsuk.min.css">
</head>
<body class="nhsuk-body nhsuk-clearfix">

<header class="nhsuk-header" role="banner">
  <div class="nhsuk-width-container nhsuk-header__container">
    <div class="nhsuk-header__content">
      <span class="nhsuk-header__logo"><span class="nhsuk-header__logo-text">Roblox Health Service</span></span>
      <nav class="nhsuk-header__navigation" aria-label="Primary navigation">
        <ul class="nhsuk-header__navigation-list">
          <li class="nhsuk-header__navigation-item"><a class="nhsuk-header__navigation-link" href="dashboard.html">Dashboard</a></li>
          <li class="nhsuk-header__navigation-item"><a class="nhsuk-header__navigation-link" href="patients.html">Patients</a></li>
          <li class="nhsuk-header__navigation-item"><a class="nhsuk-header__navigation-link" href="add-patient.html">Add Patient</a></li>
          <li class="nhsuk-header__navigation-item"><a class="nhsuk-header__navigation-link" href="login.html">Logout</a></li>
        </ul>
      </nav>
    </div>
  </div>
</header>

  <form id="addPatientForm">
  <label class="nhsuk-label" for="name">Patient Name</label>
  <input class="nhsuk-input" id="name" type="text" required>

  <label class="nhsuk-label" for="room">Room Number</label>
  <input class="nhsuk-input" id="room" type="text" required>

  <label class="nhsuk-label" for="condition">Condition</label>
  <input class="nhsuk-input" id="condition" type="text" required>

  <button class="nhsuk-button nhsuk-button--primary" type="submit">Add Patient</button>
</form>

<script>
  const form = document.getElementById('addPatientForm');

  form.addEventListener('submit', function(e) {
    e.preventDefault();

    const name = document.getElementById('name').value.trim();
    const room = document.getElementById('room').value.trim();
    const condition = document.getElementById('condition').value.trim();

    if (!name || !room || !condition) return;

    // Get existing patients from localStorage
    const patients = JSON.parse(localStorage.getItem('patients') || '[]');

    // Add new patient
    patients.push({ name, room, condition });

    // Save back to localStorage
    localStorage.setItem('patients', JSON.stringify(patients));

    // Redirect to patients page
    window.location.href = 'patients.html';
  });
</script>

<div class="nhsuk-width-container">
  <main class="nhsuk-main-wrapper">
    <h1 class="nhsuk-heading-xl">Add New Patient</h1>
    <form onsubmit="alert('Patient added! (fake)'); return false;">
      <label class="nhsuk-label" for="name">Patient Name</label>
      <input class="nhsuk-input" id="name" type="text" required>

      <label class="nhsuk-label" for="room">Room Number</label>
      <input class="nhsuk-input" id="room" type="text" required>

      <label class="nhsuk-label" for="condition">Condition</label>
      <input class="nhsuk-input" id="condition" type="text" required>

      <button class="nhsuk-button nhsuk-button--primary" type="submit">Add Patient</button>
    </form>
  </main>
</div>

<footer class="nhsuk-footer">
  <div class="nhsuk-width-container">
    <p class="nhsuk-body-s">Â© Roblox Health Service</p>
  </div>
</footer>

</body>
</html>
